<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="static/style.css">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"
        integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

    <script src="{{ url_for('static', path='main.js') }}"></script>
    <link rel="stylesheet" href="{{ url_for('static', path='style.css') }}">
    <title>Document</title>
</head>

<body>
    <script class="jsbin" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <div class="w-100 d-flex justify-content-center mt-5">
        <h1 class="">Nhận dạng sâu bệnh</h1>
    </div>
    <div class="file-upload row mt-4 justify-content-center">
        <div class="row w-100 justify-content-between">
            <button class="file-upload-btn col-5" type="button" onclick="$('.file-upload-input').trigger('click')">Thêm
                ảnh từ thư viện</button>
            <!-- Thêm nút để kích hoạt chức năng chụp ảnh từ webcam -->
            <button type="button" onclick="captureImage()" class="cam-btn btn col-5 ">Chụp ảnh</button>

        </div>

        <div class="image-upload-wrap">
            <input class="file-upload-input" type='file' onchange="readURL(this);" accept="image/*" />
            <div class="drag-text">
                <h3>Drag and drop a file or select add Image</h3>
            </div>
        </div>
        <div id="photoContainer" class="file-upload-content row">
            <img class="file-upload-image" src="#" alt="your image" />
            <div class="image-title-wrap">
                <button type="button" onclick="removeUpload()" class="remove-image">Xóa ảnh <span
                        class="image-title">Uploaded Image</span></button>
            </div>
        </div>

    </div>
    <div id="predctbutton" class="file-upload-content mt-4">
        <button type="button" onclick="predictImage()" class="btn btn-primary">Chuẩn đoán</button>

    </div>
    <div class="d-flex justify-content-center w-100">
        <div id="cam" style="display: none;">
            <div id="webcamContainer">
                <video id="video" style="width: 100%;"></video>

                <div class="d-flex justify-content-around row">
                    <button type="button" onclick="stopCamera()" class="delete btn col-5">Thoát Cam</button>
                    <button type="button" onclick="captureAndPredict()" class="photo btn col-5">Chụp và
                        Chẩn đoán</button>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-center">
        <div id="prediction-results" class="mt-4" style="display: none;">
            <h3 class="text-success">Kết quả chuẩn đoán:</h3>
            <p class="lead" id="predicted-class"></p>
            <p class="lead" id="confidence"></p>
        </div>
    </div>
    <script src="static/main.js"></script>
</body>

</html>